"use strict";(self.webpackChunkfluss_website=self.webpackChunkfluss_website||[]).push([[8253],{6782:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"maintenance/filesystems/oss","title":"Aliyun OSS","description":"OSS: Object Storage Service","source":"@site/versioned_docs/version-0.6/maintenance/filesystems/oss.md","sourceDirName":"maintenance/filesystems","slug":"/maintenance/filesystems/oss","permalink":"/docs/0.6/maintenance/filesystems/oss","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/fluss/edit/main/website/docs/maintenance/filesystems/oss.md","tags":[],"version":"0.6","sidebarPosition":3,"frontMatter":{"sidebar_label":"Aliyun OSS","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"HDFS","permalink":"/docs/0.6/maintenance/filesystems/hdfs"},"next":{"title":"Amazon S3","permalink":"/docs/0.6/maintenance/filesystems/s3"}}');var t=n(4848),i=n(8453);const r={sidebar_label:"Aliyun OSS",sidebar_position:3},a="Aliyun OSS",c={},d=[{value:"OSS: Object Storage Service",id:"oss-object-storage-service",level:2},{value:"Configurations setup",id:"configurations-setup",level:2},{value:"Token-based Authentication",id:"token-based-authentication",level:2}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"aliyun-oss",children:"Aliyun OSS"})}),"\n",(0,t.jsx)(s.h2,{id:"oss-object-storage-service",children:"OSS: Object Storage Service"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://www.aliyun.com/product/oss",children:"Aliyun Object Storage Service"})," (Aliyun OSS) is widely used, particularly popular among China\u2019s cloud users, and it provides cloud object storage for a variety of use cases."]}),"\n",(0,t.jsx)(s.h2,{id:"configurations-setup",children:"Configurations setup"}),"\n",(0,t.jsxs)(s.p,{children:["To enabled OSS as remote storage, there are some required configurations that must be add to Fluss' ",(0,t.jsx)(s.code,{children:"server.yaml"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"# The dir that used to be as the remote storage of Fluss\nremote.data.dir: oss://<your-bucket>/path/to/remote/storage\n# Aliyun OSS endpoint to connect to, such as: oss-cn-hangzhou.aliyuncs.com\nfs.oss.endpoint: <your-endpoint>\n# Aliyun access key ID\nfs.oss.accessKeyId: <your-access-key>\n# Aliyun access key secret\nfs.oss.accessKeySecret: <your-secret-key>\n\n# Aliyun STS endpoint to connect to obtain a STS token, such as: sts.cn-hangzhou.aliyuncs.com\nfs.oss.sts.endpoint: <your-sts-endpoint>\n# For the role of the STS token obtained from the STS endpoint, such as: acs:ram::123456789012:role/testrole\nfs.oss.roleArn: <your-role-arn>\n"})}),"\n",(0,t.jsx)(s.h2,{id:"token-based-authentication",children:"Token-based Authentication"}),"\n",(0,t.jsxs)(s.p,{children:["For client to access the remote storage such as reading snapshot or tiered log, client must obtain a STS token from Fluss cluster. So you must\nconfigure ",(0,t.jsx)(s.code,{children:"fs.oss.sts.endpoint"})," and ",(0,t.jsx)(s.code,{children:"fs.oss.roleArn"}),".\n",(0,t.jsx)(s.code,{children:"fs.oss.sts.endpoint"})," is the STS endpoint to obtain a STS token, such as ",(0,t.jsx)(s.code,{children:"sts.cn-hangzhou.aliyuncs.com"})," for hangzhou region, you can\nfind different endpoints for different regions in ",(0,t.jsx)(s.a,{href:"https://help.aliyun.com/zh/ram/developer-reference/api-sts-2015-04-01-endpoint",children:"Aliyun STS Endpoint"}),".\n",(0,t.jsx)(s.code,{children:"fs.oss.roleArn"})," is for the role of the STS token obtained from the STS endpoint, it should be in the format of ",(0,t.jsx)(s.code,{children:"acs:ram::<aliyun-account-id>:role/<role-name>"}),",\nsuch as ",(0,t.jsx)(s.code,{children:"acs:ram::123456789012:role/testrole"}),". Since client will use the STS token to read the remote storage, the role must be granted with the read permission of the remote storage.\nSee more detail in ",(0,t.jsx)(s.a,{href:"https://help.aliyun.com/zh/ram/developer-reference/api-sts-2015-04-01-assumerole",children:"AssumeRole"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Apart from the above configurations, you can also define the configuration keys mentioned in the ",(0,t.jsx)(s.a,{href:"http://hadoop.apache.org/docs/current/hadoop-aliyun/tools/hadoop-aliyun/index.html",children:"Hadoop OSS documentation"}),"\nin the Fluss' ",(0,t.jsx)(s.code,{children:"server.yaml"}),". These configurations defines in Hadoop OSS documentation are advanced configurations which are usually used by performance tuning."]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>a});var o=n(6540);const t={},i=o.createContext(t);function r(e){const s=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(i.Provider,{value:s},e.children)}}}]);